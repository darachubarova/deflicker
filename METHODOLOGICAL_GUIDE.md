# ๐ ะะตัะพะดะธัะตัะบะพะต ะะพัะพะฑะธะต: ะะฝะฐะปะธะท ะกัะฐะฑะธะปะธะทะฐัะธะธ ะะฐัะบะธ ะะธะดะตะพ

## ๐ฏ ะะฒะตะดะตะฝะธะต

ะญัะพ ะฟะพัะพะฑะธะต ะฟัะตะดะฝะฐะทะฝะฐัะตะฝะพ ะดะปั ัััะดะตะฝัะฐ, ะธะทััะฐััะตะณะพ ะฐะฝะฐะปะธะท ะธ ััะฐะฑะธะปะธะทะฐัะธั ะผะฐัะบะธ ะฒะธะดะตะพ. ะะฝะพ ะฟะพะผะพะถะตั ะฒะฐะผ:
1. ะะฐะทะพะฑัะฐัััั ะฒ ะบะฐะถะดะพะผ ััะฐะฟะต ะฐะฝะฐะปะธะทะฐ
2. ะะพะฝััั ัะตะพัะธั ะธ ัะตะฐะปะธะทะฐัะธั
3. ะะพะดะณะพัะพะฒะธัััั ะบ ะพะฑัััะฝะตะฝะธั ัะบะทะฐะผะตะฝะฐัะพัั

**ะกัััะบัััะฐ ะฟะพัะพะฑะธั ัะพะฒะฟะฐะดะฐะตั ัะพ ััััะบัััะพะน ะฝะพััะฑัะบะฐ `analysis.ipynb`.**

---

## ๐ ะกะพะดะตัะถะฐะฝะธะต

1. [ะะฒะตะดะตะฝะธะต ะฒ ะฟัะพะฑะปะตะผั](#ะฒะฒะตะดะตะฝะธะต-ะฒ-ะฟัะพะฑะปะตะผั)
2. [ะััะธัะตะบัััะฐ ัะธััะตะผั](#ะฐััะธัะตะบัััะฐ-ัะธััะตะผั)
3. [ะะพัะฐะณะพะฒัะน ัะฐะทะฑะพั ะฝะพััะฑัะบะฐ](#ะฟะพัะฐะณะพะฒัะน-ัะฐะทะฑะพั-ะฝะพััะฑัะบะฐ)
4. [ะะปััะตะฒัะต ะบะพะฝัะตะฟัะธะธ](#ะบะปััะตะฒัะต-ะบะพะฝัะตะฟัะธะธ)
5. [ะะพะฟัะพัั ะดะปั ัะบะทะฐะผะตะฝะฐัะพัะฐ](#ะฒะพะฟัะพัั-ะดะปั-ัะบะทะฐะผะตะฝะฐัะพัะฐ)

---

## ๐ ะะฒะตะดะตะฝะธะต ะฒ ะัะพะฑะปะตะผั

### ะงัะพ ัะฐะบะพะต "ะผะตััะฐะฝะธะต" (flickering) ะผะฐัะบะธ?

ะัะธ ะพะฑัะฐะฑะพัะบะต ะฒะธะดะตะพ ะฟัะพะธััะพะดะธั ะฝะตะถะตะปะฐัะตะปัะฝะพะต ัะฒะปะตะฝะธะต:
- ะะฐ ะบะฐะถะดะพะผ ะบะฐะดัะต ะฒัะดะตะปัะตััั ะผะฐัะบะฐ ะพะฑัะตะบัะฐ
- ะะท-ะทะฐ ััะผะฐ ะฝะตะนัะพัะตัะธ ะผะฐัะบะฐ ะฝะต ะธะดะตะฐะปัะฝะพ ััะฐะฑะธะปัะฝะฐ
- ะะฐัะบะฐ "ะผะตััะฐะตั" (ัะบะฐัะตั) ะพั ะบะฐะดัะฐ ะบ ะบะฐะดัั
- ะญัะพ ะฒัะทัะฒะฐะตั ะฒะธะทัะฐะปัะฝัะต ะฐััะตัะฐะบัั

### ะฆะตะปั ะฟัะพะตะบัะฐ

**ะะฐะดะฐัะฐ**: ะะฐะทัะฐะฑะพัะฐัั ะผะตัะพะดั ะดะปั ััะฐะฑะธะปะธะทะฐัะธะธ ะผะฐัะบะธ, ัะฑัะฐะฒ ะผะตััะฐะฝะธะต.

**ะะตัะตะฝะธะต**: ะัะธะผะตะฝะธัั ะฒัะตะผะตะฝะฝะพะต ัะณะปะฐะถะธะฒะฐะฝะธะต - ะธัะฟะพะปัะทะพะฒะฐัั ะธะฝัะพัะผะฐัะธั ะธะท ัะพัะตะดะฝะธั ะบะฐะดัะพะฒ ะดะปั ะฟะพะปััะตะฝะธั ะฑะพะปะตะต ััะฐะฑะธะปัะฝะพะน ะผะฐัะบะธ.

### ะะตััะธะบะฐ ััะฟะตัะฐ

**IoU (Intersection over Union)** - ะผะตัะฐ ััะฐะฑะธะปัะฝะพััะธ ะผะตะถะดั ะบะฐะดัะฐะผะธ:
- ะัะปะธ ะผะฐัะบะธ ะธะดะตะฝัะธัะฝั โ IoU = 1.0 (ะธะดะตะฐะปัะฝะฐั ััะฐะฑะธะปัะฝะพััั)
- ะัะปะธ ะผะฐัะบะธ ัะธะปัะฝะพ ะพัะปะธัะฐัััั โ IoU ะฑะปะธะทะบะพ ะบ 0 (ะฝะธะทะบะฐั ััะฐะฑะธะปัะฝะพััั)

---

## ๐๏ธ ะััะธัะตะบัััะฐ ะกะธััะตะผั

### ะะพะผะฟะพะฝะตะฝัั ะฟัะพะตะบัะฐ

```
deflicker/
โโโ src/
โ   โโโ segmentation.py    # ะัะดะตะปะตะฝะธะต ะผะฐัะบะธ (DeepLabv3)
โ   โโโ stabilization.py   # ะกะณะปะฐะถะธะฒะฐะฝะธะต ะผะฐัะบะธ (3 ะผะตัะพะดะฐ)
โ   โโโ metrics.py         # ะะตััะธะบะธ ะบะฐัะตััะฒะฐ (IoU, Dice)
โ   โโโ utils.py           # ะฃัะธะปะธัั (ัะฐะฑะพัะฐ ั ะฒะธะดะตะพ)
โ   โโโ main.py            # API ะธ ะฒะตะฑ-ะธะฝัะตััะตะนั
โโโ notebooks/
โ   โโโ analysis.ipynb     # ะะตะผะพะฝัััะฐัะธะพะฝะฝัะน ะฐะฝะฐะปะธะท
โโโ frontend/
    โโโ index.html         # ะะตะฑ-ะธะฝัะตััะตะนั
```

### ะัะฝะพะฒะฝะพะน ะบะพะฝะฒะตะนะตั (Pipeline)

```
1. ะะฐะณััะทะบะฐ ะฒะธะดะตะพ
   โ
2. ะะทะฒะปะตัะตะฝะธะต ะบะฐะดัะพะฒ
   โ
3. ะกะตะณะผะตะฝัะฐัะธั (DeepLabv3) โ ะผะฐัะบะธ ะฑะตะท ััะฐะฑะธะปะธะทะฐัะธะธ
   โ
4. ะัะธะผะตะฝะตะฝะธะต ะผะตัะพะดะฐ ััะฐะฑะธะปะธะทะฐัะธะธ โ ััะฐะฑะธะปะธะทะธัะพะฒะฐะฝะฝัะต ะผะฐัะบะธ
   โ
5. ะะฐััะตั ะผะตััะธะบ (IoU, ะฝะตััะฐะฑะธะปัะฝะพััั)
   โ
6. ะกัะฐะฒะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ
```

---

## ๐ ะะพัะฐะณะพะฒัะน ะะฐะทะฑะพั ะะพััะฑัะบะฐ

### ๐ ะฏัะตะนะบะฐ 1: ะะฐะณะพะปะพะฒะพะบ ะธ ะะฑะทะพั

**ะงัะพ ะทะดะตัั?**
- ะะฐะทะฒะฐะฝะธะต: "Mask Stabilization - Analysis and Demonstration"
- ะะฑัะธะน ะฟะปะฐะฝ ะฐะฝะฐะปะธะทะฐ ะฒ 5 ะฟัะฝะบัะฐั

**ะะพัะตะผั ะฒะฐะถะฝะพ ะทะฝะฐัั:**
- ะญัะพ ะดะฐะตั ะพะฑัะตะต ะฟะพะฝะธะผะฐะฝะธะต ะปะพะณะธะบะธ ะฐะฝะฐะปะธะทะฐ
- ะะพะผะพะณะฐะตั ััััะบัััะธัะพะฒะฐัั ะพะฑัััะฝะตะฝะธะต ัะบะทะฐะผะตะฝะฐัะพัั

---

### ๐ ะฏัะตะนะบะฐ 2: ะะผะฟะพัั ะะธะฑะปะธะพัะตะบ

```python
import numpy as np                          # ะะฐะฑะพัะฐ ั ะผะฐััะธะฒะฐะผะธ
import matplotlib.pyplot as plt             # ะะธะทัะฐะปะธะทะฐัะธั
import seaborn as sns                       # ะฃะปัััะตะฝะฝะฐั ะฒะธะทัะฐะปะธะทะฐัะธั
from pathlib import Path                    # ะะฐะฑะพัะฐ ั ะฟัััะผะธ
import cv2                                  # ะะฑัะฐะฑะพัะบะฐ ะฒะธะดะตะพ

from src.segmentation import VideoSegmenter # ะะฐัะฐ ัะตะณะผะตะฝัะฐัะธั
from src.stabilization import MaskStabilizer # ะะฐัะฐ ััะฐะฑะธะปะธะทะฐัะธั
from src.metrics import compare_stability    # ะะฐัะธ ะผะตััะธะบะธ
from src.utils import extract_frames, ...    # ะฃัะธะปะธัั
```

**ะงัะพ ะฟัะพะธััะพะดะธั:**
1. ะะผะฟะพััะธัััััั ััะฐะฝะดะฐััะฝัะต ะฑะธะฑะปะธะพัะตะบะธ ะดะปั ะฝะฐััะฝัั ะฒััะธัะปะตะฝะธะน
2. ะะผะฟะพััะธัััััั ะฝะฐัะธ ัะพะฑััะฒะตะฝะฝัะต ะผะพะดัะปะธ ะธะท `src/`

**ะขะพัะบะธ ะดะปั ะพะฑัััะฝะตะฝะธั ัะบะทะฐะผะตะฝะฐัะพัั:**
- ะัะฟะพะปัะทัะตะผ DeepLabv3 ะดะปั ัะตะณะผะตะฝัะฐัะธะธ (ัะถะต ะพะฑััะตะฝะฝะฐั ะฝะตะนัะพัะตัั)
- ะัะต ะผะตัะพะดั ััะฐะฑะธะปะธะทะฐัะธะธ ัะตะฐะปะธะทะพะฒะฐะฝั ะฒ `src/stabilization.py`
- ะะตััะธะบะธ ัะฐัััะธัะฐะฝั ะฒ `src/metrics.py`

---

### ๐ ะฏัะตะนะบะธ 3-5: ะะฐะณััะทะบะฐ ะธ ะัะพัะผะพัั ะะธะดะตะพ

#### ะฏัะตะนะบะฐ 3: ะะพะปััะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะพ ะฒะธะดะตะพ

```python
video_info = get_video_info(video_path)
# ะะตะทัะปััะฐัั:
# - FPS (ะบะฐะดัะพะฒ ะฒ ัะตะบัะฝะดั)
# - Frame Count (ะฒัะตะณะพ ะบะฐะดัะพะฒ)
# - Resolution (ัะธัะธะฝะฐ ร ะฒััะพัะฐ)

frames = extract_frames(video_path)
# ะกะฟะธัะพะบ ะฒัะตั ะบะฐะดัะพะฒ ะบะฐะบ numpy arrays (BGR ัะพัะผะฐั)
```

**ะะฐะถะฝัะต ะผะพะผะตะฝัั:**
- ะะธะดะตะพ ะทะฐะณััะถะฐะตััั ะบะฐะบ ะฝะฐะฑะพั ะบะฐะดัะพะฒ (frames)
- ะะฐะถะดัะน ะบะฐะดั - ััะพ numpy ะผะฐััะธะฒ ัะฐะทะผะตัะพะผ (height, width, 3)
- ะคะพัะผะฐั BGR (ะฝะต RGB!) - ััะพ ะพัะพะฑะตะฝะฝะพััั OpenCV

#### ะฏัะตะนะบะฐ 5: ะะธะทัะฐะปะธะทะฐัะธั ะะฐะดัะพะฒ

**ะงัะพ ะทะดะตัั ะฟัะพะธััะพะดะธั:**
- ะัะฑะธัะฐัััั 5 ัะฐะฒะฝะพะผะตัะฝะพ ัะฐัะฟัะตะดะตะปะตะฝะฝัะต ะบะฐะดัั
- ะะฐะถะดัะน ะบะฐะดั ะพัะพะฑัะฐะถะฐะตััั ะฒ ะพัะดะตะปัะฝะพะผ ะฟะพะดะณัะฐัะธะบะต
- ะะตัะตะฒะพะดะธะผ ะธะท BGR ะฒ RGB ะดะปั ะฟัะฐะฒะธะปัะฝะพะน ะฒะธะทัะฐะปะธะทะฐัะธะธ

**ะะปั ะพะฑัััะฝะตะฝะธั:**
> "ะั ะทะฐะณััะถะฐะตะผ ะฒะธะดะตะพ ะธ ัะผะพััะธะผ ะฝะฐ ะพะฑัะฐะทัั ะบะฐะดัะพะฒ. ะะธะดะธะผ, ััะพ ะฒะธะดะตะพ ัะพะดะตัะถะธั ะดะฒะธะถััะธะตัั ะพะฑัะตะบัั (ะปัะดะธ, ะผะฐัะธะฝั ะธ ั.ะด.), ะบะพัะพััะต ะผั ะฑัะดะตะผ ัะตะณะผะตะฝัะธัะพะฒะฐัั."

---

### ๐ ะฏัะตะนะบะธ 6-7: ะกะตะณะผะตะฝัะฐัะธั ั DeepLabv3

#### ะฏัะตะนะบะฐ 6: ะะฝะธัะธะฐะปะธะทะฐัะธั ัะตะณะผะตะฝัะฐัะพัะฐ

```python
segmenter = VideoSegmenter()
# ะงัะพ ะฟัะพะธััะพะดะธั:
# 1. ะะฐะณััะถะฐะตััั ะฟัะตะดะพะฑััะตะฝะฝะฐั ะผะพะดะตะปั DeepLabv3-ResNet101
# 2. ะะพะดะตะปั ะทะฐะณััะถะฐะตััั ะฝะฐ GPU (ะตัะปะธ ะดะพัััะฟะตะฝ)
# 3. ะะพะดะตะปั ะฟะตัะตะฒะพะดะธััั ะฒ ัะตะถะธะผ eval (ะฑะตะท dropout, batch norm)

# ะะพัััะฟะฝัะต ะบะปะฐััั:
# 0: background
# 15: person (ัะตะปะพะฒะตะบ)
# 7: car (ะผะฐัะธะฝะฐ)
# 17: cat (ะบะพั)
# 18: dog (ัะพะฑะฐะบะฐ)
# ... ะธ ะดััะณะธะต
```

**ะะปััะตะฒัะต ะผะพะผะตะฝัั:**
- DeepLabv3 - ััะพ ะณะปัะฑะพะบะฐั ะฝะตะนัะพัะตัั ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะน ัะตะณะผะตะฝัะฐัะธะธ
- ะะฝะฐ ะผะพะถะตั ะฒัะดะตะปััั ะดะพ 21 ะบะปะฐััะฐ ะพะฑัะตะบัะพะฒ
- ะะพะดะตะปั ัะถะต ะพะฑััะตะฝะฐ ะฝะฐ ะดะฐัะฐัะตัะต COCO
- ะัะฟะพะปัะทัะตะผ CUDA (GPU) ะดะปั ััะบะพัะตะฝะธั

#### ะฏัะตะนะบะฐ 7: ะกะตะณะผะตะฝัะฐัะธั ะฒะธะดะตะพ

```python
binary_masks, prob_maps = segmenter.segment_video(
    frames, 
    target_class=15,      # ะัะดะตะปัะตะผ ะบะปะฐัั "person"
    batch_size=4          # ะะฑัะฐะฑะฐััะฒะฐะตะผ 4 ะบะฐะดัะฐ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ
)

# binary_masks - ะผะฐัะบะธ (0/1)
# prob_maps - ะฒะตัะพััะฝะพััะธ (0.0-1.0)
```

**ะงัะพ ะทะดะตัั ะฒะฐะถะฝะพ:**

1. **ะฆะตะปะตะฒะพะน ะบะปะฐัั (target_class=15)**: ะั ะฒัะฑัะฐะปะธ "person" (ัะตะปะพะฒะตะบ). ะะพะดะตะปั ะฒัะดะตะปะธั ะฒัะต ะฟะธะบัะตะปะธ, ะบะพัะพััะต ะพะฝะฐ ััะธัะฐะตั ะปัะดัะผะธ.

2. **Batch size**: ะะฑัะฐะฑะฐััะฒะฐะตะผ 4 ะบะฐะดัะฐ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ ะดะปั ัะบะพัะพััะธ (ะพะฟัะธะผะธะทะฐัะธั ะฟะฐะผััะธ GPU).

3. **ะะตะทัะปััะฐัั**:
   - `binary_masks`: 0 (ัะพะฝ) ะธะปะธ 1 (ะพะฑัะตะบั)
   - `prob_maps`: ะฒะตัะพััะฝะพััั ัะพะณะพ, ััะพ ะฟะธะบัะตะปั ะฟัะธะฝะฐะดะปะตะถะธั ะพะฑัะตะบัั (0.0-1.0)

**ะะปั ะพะฑัััะฝะตะฝะธั ัะบะทะฐะผะตะฝะฐัะพัั:**
> "DeepLabv3 - ััะพ ะฟัะตะดะพะฑััะตะฝะฝะฐั ะฝะตะนัะพัะตัั, ะบะพัะพัะฐั ัะผะตะตั ะฒัะดะตะปััั ะพะฑัะตะบัั. ะะปั ะบะฐะถะดะพะณะพ ะฟะธะบัะตะปั ะพะฝะฐ ะฒัะดะฐะตั ะฒะตัะพััะฝะพััั ัะพะณะพ, ััะพ ะพะฝ ะฟัะธะฝะฐะดะปะตะถะธั ัะตะปะตะฒะพะผั ะบะปะฐััั (ัะตะปะพะฒะตะบั). ะะตัะพััะฝะพััะธ ะฝะฐัะพะดัััั ะฒ ะดะธะฐะฟะฐะทะพะฝะต [0, 1] - ััะพ ะฝะฐัะธ 'ะผะฐัะบะธ ั ะผัะณะบะธะผะธ ะบัะฐัะผะธ'. ะญัะธ ะผะฐัะบะธ ะผะพะณัั ะฑััั ะฝะตััะฐะฑะธะปัะฝัะผะธ ะผะตะถะดั ะบะฐะดัะฐะผะธ - ะผะตััะฐัั."

---

### ๐ ะฏัะตะนะบะฐ 8: ะะธะทัะฐะปะธะทะฐัะธั ะกะตะณะผะตะฝัะฐัะธะธ

```python
# ะะตัะฒะฐั ัััะพะบะฐ: ะธััะพะดะฝัะต ะบะฐะดัั
# ะัะพัะฐั ัััะพะบะฐ: ะผะฐัะบะธ ะฒะตัะพััะฝะพััะธ (ะฒะธะทัะฐะปะธะทะธัะพะฒะฐะฝั ะบะฐะบ ัะตะฟะปะพะฒะฐั ะบะฐััะฐ)

# ะัะฟะพะปัะทัะตะผ colormap='jet':
#   - ะขะตะผะฝัะน ัะธะฝะธะน = ะฒะตัะพััะฝะพััั ะฑะปะธะทะบะฐ ะบ 0 (ะฝะต ัะตะปะพะฒะตะบ)
#   - ะัะฐัะฝัะน = ะฒะตัะพััะฝะพััั ะฑะปะธะทะบะฐ ะบ 1 (ัะพัะฝะพ ัะตะปะพะฒะตะบ)
```

**ะงัะพ ะทะดะตัั ะฒะธะดะฝะพ:**
- ะัะธะณะธะฝะฐะปัะฝัะต ะบะฐะดัั ั ะปัะดัะผะธ
- ะขะตะฟะปะพะฒัะต ะบะฐััั ะผะฐัะบะธ
- ะัะปะธ ะผะฐัะบะฐ ัะพัะพัะฐั, ะบัะฐัะฝะฐั ะพะฑะปะฐััั ัะพะฒะฟะฐะดะฐะตั ั ะบะพะฝัััะพะผ ัะตะปะพะฒะตะบะฐ

---

### ๐ ะฏัะตะนะบะฐ 9: ะกัะฐัะธััะธะบะฐ ะะพ ะกัะฐะฑะธะปะธะทะฐัะธะธ

```python
stats = calculate_mask_statistics(prob_maps)

# ะะตะทัะปััะฐัั:
# - Number of frames: ะบะพะปะธัะตััะฒะพ ะบะฐะดัะพะฒ
# - Average mask area: ััะตะดะฝัั ะฟะปะพัะฐะดั ะพะฑัะตะบัะฐ
# - Area std dev: ััะฐะฝะดะฐััะฝะพะต ะพัะบะปะพะฝะตะฝะธะต
# - Temporal consistency (mean IoU): ะกะขะะะะะฌะะะกะขะฌ ะผะฐัะบะธ
#   (ะตัะปะธ ะฝะธะทะบะพะต - ะผะฐัะบะฐ ะผะตััะฐะตั)
# - Temporal consistency std: ะบะพะปะตะฑะฐะฝะธั ััะฐะฑะธะปัะฝะพััะธ
```

**ะะปััะตะฒะพะน ะฟะฐัะฐะผะตัั - Temporal Consistency (IoU):**
- ะัะปะธ IoU = 0.95 ะผะตะถะดั ะบะฐะดัะฐะผะธ โ ะผะฐัะบะฐ ะพัะตะฝั ััะฐะฑะธะปัะฝะฐ
- ะัะปะธ IoU = 0.7 โ ะผะฐัะบะฐ ะฝะตััะฐะฑะธะปัะฝะฐ, ะฒะธะดะฝะพ ะผะตััะฐะฝะธะต
- ะะธะทะบะธะน std ะพะทะฝะฐัะฐะตั, ััะพ ะฝะตััะฐะฑะธะปัะฝะพััั ะพะดะธะฝะฐะบะพะฒะฐ ะฒะตะทะดะต

**ะะปั ะพะฑัััะฝะตะฝะธั:**
> "ะะธะดะธะผ, ััะพ ะผะฐัะบะธ ะฑะตะท ััะฐะฑะธะปะธะทะฐัะธะธ ะธะผะตัั ะฝะธะทะบะธะน IoU ะผะตะถะดั ะบะฐะดัะฐะผะธ - ััะพ ัะบะฐะทัะฒะฐะตั ะฝะฐ ะฝะฐะปะธัะธะต ะผะตััะฐะฝะธั. ะะฐัะฐ ะทะฐะดะฐัะฐ - ะฟะพะฒััะธัั ััะพั ะฟะพะบะฐะทะฐัะตะปั."

---

### ๐ ะฏัะตะนะบะฐ 10: ะัะธะผะตะฝะตะฝะธะต ะะตัะพะดะพะฒ ะกัะฐะฑะธะปะธะทะฐัะธะธ

```python
# ะะตัะพะด 1: Moving Average (ัะบะพะปัะทััะตะต ััะตะดะฝะตะต)
masks_ma = MaskStabilizer.moving_average(prob_maps, window_size=5)

# ะะตัะพะด 2: Median Filter (ะผะตะดะธะฐะฝะฝัะน ัะธะปััั)
masks_median = MaskStabilizer.median_filter(prob_maps, window_size=5)

# ะะตัะพะด 3: Exponential Smoothing (ัะบัะฟะพะฝะตะฝัะธะฐะปัะฝะพะต ัะณะปะฐะถะธะฒะฐะฝะธะต)
masks_exp = MaskStabilizer.exponential_smoothing(prob_maps, alpha=0.3)
```

#### ๐ ะขัะธ ะผะตัะพะดะฐ ััะฐะฑะธะปะธะทะฐัะธะธ:

##### **ะะตัะพะด 1: Moving Average (ะกะบะพะปัะทััะตะต ััะตะดะฝะตะต)**

```python
# ะะปั ะบะฐะถะดะพะณะพ ะบะฐะดัะฐ i:
smoothed[i] = (masks[i-2] + masks[i-1] + masks[i] + 
               masks[i+1] + masks[i+2]) / 5

# window_size=5 ะพะทะฝะฐัะฐะตั: ะฑะตัะตะผ ัะตะบััะธะน ะบะฐะดั ะธ 2 ัะพัะตะดะฝะธั ั ะบะฐะถะดะพะน ััะพัะพะฝั
```

**ะะฐะบ ัะฐะฑะพัะฐะตั:**
- ะะตัะตะผ ะพะบะฝะพ ะธะท 5 ะบะฐะดัะพะฒ (ัะตะบััะธะน ยฑ 2 ัะพัะตะดะฝะธั)
- ะฃััะตะดะฝัะตะผ ะฒัะต ะผะฐัะบะธ ะฒ ััะพะผ ะพะบะฝะต
- ะะตะทัะปััะฐั - ะฑะพะปะตะต ะณะปะฐะดะบะฐั ะผะฐัะบะฐ

**ะัะตะธะผััะตััะฒะฐ:**
- ะัะพััะพ ัะตะฐะปะธะทัะตััั
- ะฅะพัะพัะธะน ะฑะฐะปะฐะฝั ะผะตะถะดั ะณะปะฐะดะบะพัััั ะธ ัะตะฐะบัะธะฒะฝะพัััั

**ะะตะดะพััะฐัะบะธ:**
- ะะพะถะตั ัะฐะทะผัะฒะฐัั ัะตะทะบะธะต ะฟะตัะตัะพะดั
- ะะฐ ะณัะฐะฝะธัะฐั ะฒะธะดะตะพ ะพะบะฝะพ ะฝะตะฟะพะปะฝะพะต

---

##### **ะะตัะพะด 2: Median Filter (ะะตะดะธะฐะฝะฝัะน ัะธะปััั)**

```python
# ะะปั ะบะฐะถะดะพะณะพ ะบะฐะดัะฐ i:
smoothed[i] = MEDIAN(masks[i-2:i+3])

# ะะตัะตะผ ะผะตะดะธะฐะฝั ะฒะผะตััะพ ััะตะดะฝะตะณะพ
```

**ะะฐะบ ัะฐะฑะพัะฐะตั:**
- ะะตัะตะผ ะพะบะฝะพ ะธะท 5 ะบะฐะดัะพะฒ
- ะะปั ะบะฐะถะดะพะณะพ ะฟะธะบัะตะปั ะฑะตัะตะผ ะผะตะดะธะฐะฝะฝะพะต ะทะฝะฐัะตะฝะธะต
- ะะตะดะธะฐะฝะฐ ัััะพะนัะธะฒะฐ ะบ ะฒัะฑัะพัะฐะผ (ะฐััะตัะฐะบัะฐะผ)

**ะัะตะธะผััะตััะฒะฐ:**
- ะัััะต ัะพััะฐะฝัะตั ัะตะทะบะธะต ะบัะฐั
- ะฃััะพะนัะธะฒ ะบ ัะฟะพัะฐะดะธัะตัะบะธะผ ะฒัะฑัะพัะฐะผ ะฒ ะผะฐัะบะต

**ะะตะดะพััะฐัะบะธ:**
- ะะพะถะตั ะฑััั ะผะตะฝะตะต ะณะปะฐะดะบะธะผ ัะตะผ Moving Average

---

##### **ะะตัะพะด 3: Exponential Smoothing (ะญะบัะฟะพะฝะตะฝัะธะฐะปัะฝะพะต ัะณะปะฐะถะธะฒะฐะฝะธะต)**

```python
# ะะตะบัััะตะฝัะฝะฐั ัะพัะผัะปะฐ:
smoothed[0] = masks[0]
smoothed[i] = alpha * masks[i] + (1 - alpha) * smoothed[i-1]

# alpha=0.3 ะพะทะฝะฐัะฐะตั:
# smoothed = 0.3 * current + 0.7 * previous_smoothed

# ะขะพ ะตััั:
# - ะขะตะบััะตะผั ะบะฐะดัั ะดะฐะตะผ ะฒะตั 30%
# - ะััะพัะธะธ ะดะฐะตะผ ะฒะตั 70%
```

**ะะฐะบ ัะฐะฑะพัะฐะตั:**
- ะะฐะถะดะฐั ะฝะพะฒะฐั ะผะฐัะบะฐ ะฒััะธัะปัะตััั ะบะฐะบ ะฒะทะฒะตัะตะฝะฝะฐั ััะผะผะฐ:
  - ะขะตะบััะตะน ะผะฐัะบะธ (ะผะฐะปะพ weight)
  - ะฃะถะต ัะณะปะฐะถะตะฝะฝะพะน ะฟัะตะดัะดััะตะน ะผะฐัะบะธ (ะผะฝะพะณะพ weight)
- ะงะตะผ ะผะตะฝััะต alpha, ัะตะผ ะฑะพะปะตะต ัะณะปะฐะถะตะฝะฝัะน ัะตะทัะปััะฐั

**ะัะตะธะผััะตััะฒะฐ:**
- ะัะตะฝั ะณะปะฐะดะบะพะต ัะณะปะฐะถะธะฒะฐะฝะธะต
- ะัะธัะธะฝะฝะพะต (ะธัะฟะพะปัะทัะตั ัะพะปัะบะพ ะฟัะพัะปัะต ะบะฐะดัั)
- ะะดะธะฝ ะฟะฐัะฐะผะตัั alpha ะปะตะณะบะพ ะฝะฐัััะฐะธะฒะฐัั

**ะะตะดะพััะฐัะบะธ:**
- ะัะธัะธะฝะฝะพััั (ะฝะต ะผะพะถะตั ัะผะพััะตัั ะฒะฟะตัะตะด)
- ะะพะถะตั ะทะฐะฟะฐะทะดัะฒะฐัั ะฟัะธ ะฑัััััั ะดะฒะธะถะตะฝะธัั

---

### ๐ ะฏัะตะนะบะฐ 11: ะะฐััะตั ะะตััะธะบ ะกัะฐะฒะฝะตะฝะธั

```python
for method_name, masks_after in stabilization_results.items():
    metrics = compare_stability(prob_maps, masks_after)
    
    # ะะตะทัะปััะฐัั ะฒะบะปััะฐัั:
    # - IoU Before/After
    # - Instability (ะฝะตััะฐะฑะธะปัะฝะพััั)
    # - Improvement (ัะปัััะตะฝะธะต)
```

#### ะะตััะธะบะฐ 1: IoU (Intersection over Union)

```
ะะปั ะดะฒัั ะบะฐะดัะพะฒ ะฟะพะดััะด:
     ะะตัะตัะตัะตะฝะธะต ะผะฐัะบะธ
IoU = โโโโโโโโโโโโโโโโโ
      ะะฑัะตะดะธะฝะตะฝะธะต ะผะฐัะบะธ

ะะฝะฐัะตะฝะธั:
- 1.0 = ะผะฐัะบะธ ะธะดะตะฝัะธัะฝั (ะธะดะตะฐะปัะฝะฐั ััะฐะฑะธะปัะฝะพััั)
- 0.0 = ะผะฐัะบะธ ะฝะต ะฟะตัะตัะตะบะฐัััั (ะฟะพะปะฝัะน ะฐััะตัะฐะบั)
```

**ะงัะพ ััะธัะฐะตะผ:**
- IoU Before: IoU ะพัะธะณะธะฝะฐะปัะฝัั ะผะฐัะพะบ ะผะตะถะดั ัะพัะตะดะฝะธะผะธ ะบะฐะดัะฐะผะธ
- IoU After: IoU ััะฐะฑะธะปะธะทะธัะพะฒะฐะฝะฝัั ะผะฐัะพะบ ะผะตะถะดั ัะพัะตะดะฝะธะผะธ ะบะฐะดัะฐะผะธ
- Improvement: ะฝะฐัะบะพะปัะบะพ ัะปัััะธะปัั IoU

#### ะะตััะธะบะฐ 2: Instability (ะะตััะฐะฑะธะปัะฝะพััั)

```
Instability = 1 - IoU

ะัะปะธ IoU = 0.8, ัะพ Instability = 0.2
ะัะปะธ IoU = 0.5, ัะพ Instability = 0.5
```

**ะะฝัะตัะฟัะตัะฐัะธั:**
- ะะธะทะบะฐั ะฝะตััะฐะฑะธะปัะฝะพััั (ะฝะฐะฟัะธะผะตั 0.05) = ะผะฐัะบะฐ ััะฐะฑะธะปัะฝะฐ โ
- ะััะพะบะฐั ะฝะตััะฐะฑะธะปัะฝะพััั (ะฝะฐะฟัะธะผะตั 0.3) = ะผะฐัะบะฐ ะผะตััะฐะตั โ

**ะะปั ะพะฑัััะฝะตะฝะธั:**
> "ะั ัะฐัััะธัะฐะปะธ, ะบะฐะบ ัะธะปัะฝะพ ะผะตะฝัะตััั ะผะฐัะบะฐ ะผะตะถะดั ะบะฐะดัะฐะผะธ (IoU). ะะฐัะตะผ ะฟัะธะผะตะฝะธะปะธ ะผะตัะพะดั ััะฐะฑะธะปะธะทะฐัะธะธ ะธ ัะฐัััะธัะฐะปะธ ัะปัััะตะฝะธะต. ะะธะดะธะผ, ััะพ ะฒัะต ััะธ ะผะตัะพะดะฐ ะทะฝะฐัะธัะตะปัะฝะพ ะฟะพะฒััะฐัั ััะฐะฑะธะปัะฝะพััั ะผะฐัะบะธ."

---

### ๐ ะฏัะตะนะบะฐ 12: ะัะฐัะธะบ IoU

```python
# ะะปั ะบะฐะถะดะพะณะพ ะผะตัะพะดะฐ ัะธััะตะผ ะดะฒะฐ ะณัะฐัะธะบะฐ:
# - ะกะธะฝัั ะปะธะฝะธั: IoU ะะ ััะฐะฑะธะปะธะทะฐัะธะธ (ะฑะพะปะตะต ััะผะฝะฐั)
# - ะัะฐะฝะถะตะฒะฐั ะปะธะฝะธั: IoU ะะะกะะ ััะฐะฑะธะปะธะทะฐัะธะธ (ะฑะพะปะตะต ะณะปะฐะดะบะฐั)

# ะะพ ะณะพัะธะทะพะฝัะฐะปะธ: ะฟะตัะตัะพะดั ะผะตะถะดั ะบะฐะดัะฐะผะธ
# ะะพ ะฒะตััะธะบะฐะปะธ: ะทะฝะฐัะตะฝะธะต IoU
```

**ะงัะพ ะฒะธะดะฝะพ:**
- ะะพ ััะฐะฑะธะปะธะทะฐัะธะธ: ะผะฝะพะณะพ ัะบะฐัะบะพะฒ (ััะผ)
- ะะพัะปะต ััะฐะฑะธะปะธะทะฐัะธะธ: ะณะปะฐะดะบะฐั ะปะธะฝะธั (ััะฐะฑะธะปัะฝะพ)
- ะัะฐะฝะถะตะฒะฐั ะปะธะฝะธั ะฒััะต ัะธะฝะตะน = ัะปัััะตะฝะธะต

---

### ๐ ะฏัะตะนะบะฐ 13: ะกัะพะปะฑัะฐัะฐั ะะธะฐะณัะฐะผะผะฐ

```python
# ะกัะพะปะฑัั ะดะปั ะบะฐะถะดะพะณะพ ะผะตัะพะดะฐ:
# - ะกะฒะตัะปัะน ัะฒะตั: ััะตะดะฝะธะน IoU ะะ ััะฐะฑะธะปะธะทะฐัะธะธ
# - ะขะตะผะฝัะน ัะฒะตั: ััะตะดะฝะธะน IoU ะะะกะะ ััะฐะฑะธะปะธะทะฐัะธะธ
```

**ะะฐะบ ัะธัะฐัั:**
- ะะพะปะตะต ะฒััะพะบะธะต ััะพะปะฑัั = ะปัััะต
- ะะพะปััะฐั ัะฐะทะฝะธัะฐ ะผะตะถะดั ัะฒะตัะฐะผะธ = ะฑะพะปััะพะต ัะปัััะตะฝะธะต

**ะะปั ะพะฑัััะฝะตะฝะธั:**
> "ะะฐ ะดะธะฐะณัะฐะผะผะต ะฒะธะดะฝะพ, ััะพ ะฒัะต ะผะตัะพะดั ะดะฐัั ัะปัััะตะฝะธะต. ะัะฑะธัะฐะตะผ ะปัััะธะน ะผะตัะพะด (ะพะฑััะฝะพ Moving Average) ะดะปั ะดะฐะปัะฝะตะนัะตะน ะฒะธะทัะฐะปะธะทะฐัะธะธ."

---

### ๐ ะฏัะตะนะบะฐ 14: ะะธะทัะฐะปัะฝะพะต ะกัะฐะฒะฝะตะฝะธะต

```python
# ะขัะธ ัััะพะบะธ ะดะปั 5 ะฒัะฑัะฐะฝะฝัั ะบะฐะดัะพะฒ:
# ะกััะพะบะฐ 1: ะัะธะณะธะฝะฐะปัะฝัะต ะบะฐะดัั
# ะกััะพะบะฐ 2: ะะฐัะบะธ ะะ ััะฐะฑะธะปะธะทะฐัะธะธ (ะผะตััะฐััะธะต)
# ะกััะพะบะฐ 3: ะะฐัะบะธ ะะะกะะ ััะฐะฑะธะปะธะทะฐัะธะธ (ะณะปะฐะดะบะธะต)
```

**ะงัะพ ะฒะธะดะฝะพ ะฝะฐ ะบะฐััะธะฝะบะต:**
- ะะฐัะบะธ ะะ: ะบะฐะถัััั ะฑะพะปะตะต "ัะฒะฐะฝัะผะธ", ั ะฐััะตัะฐะบัะฐะผะธ
- ะะฐัะบะธ ะะะกะะ: ะฑะพะปะตะต ะณะปะฐะดะบะธะต ะบะพะฝัััั, ะผะตะฝััะต ััะผะฐ

---

### ๐ ะฏัะตะนะบะฐ 15: ะะฐะณะพะปะพะฒะพะบ ะัะฒะพะดะพะฒ

ะัะพััะพ ะฟัะพะผะตะถััะพัะฝัะน ะทะฐะณะพะปะพะฒะพะบ, ะณะพัะพะฒะธั ะบ ะฟะพัะปะตะดะฝะตะน ััะตะนะบะต.

---

### ๐ ะฏัะตะนะบะฐ 16: ะัะพะณะพะฒะฐั ะกัะฐัะธััะธะบะฐ

```python
print("SUMMARY OF RESULTS")

# ะะฐัะพะดะธะผ ะปัััะธะน ะผะตัะพะด (ั ะผะฐะบัะธะผะฐะปัะฝัะผ ัะปัััะตะฝะธะตะผ IoU)
best_method = max(comparison_metrics.items(), 
                 key=lambda x: x[1]['improvement']['iou_improvement'])

# ะัะฒะพะดะธะผ ัะตะทัะปััะฐัั ะดะปั ะปัััะตะณะพ ะผะตัะพะดะฐ:
# - IoU Improvement
# - Improvement Percentage
# - Instability Reduction

# ะขะฐะบะถะต ะฒัะฒะพะดะธะผ ัะตะทัะปััะฐัั ะดะปั ะฒัะตั ะผะตัะพะดะพะฒ (ะพััะพััะธัะพะฒะฐะฝั ะฟะพ ัะปัััะตะฝะธั)
```

**ะขะธะฟะธัะฝัะน ะฒัะฒะพะด:**
```
Best Method: Moving Average
  IoU Improvement: 0.1234
  Improvement Percentage: 12.34%
  Instability Reduction: 45.67%

All Methods Performance:
  Moving Average:
    Mean IoU: 0.9234
    Improvement: 12.34%
  
  Median Filter:
    Mean IoU: 0.9100
    Improvement: 10.50%
  
  Exponential Smoothing:
    Mean IoU: 0.8900
    Improvement: 8.75%
```

---

### ๐ ะฏัะตะนะบะฐ 17: ะจะฐะฑะปะพะฝ ะัะฒะพะดะพะฒ

ะกะพะดะตัะถะธั ััะธ ัะฐะทะดะตะปะฐ ะดะปั ะทะฐะฟะพะปะฝะตะฝะธั:

1. **Segmentation Quality** (ะะฐัะตััะฒะพ ัะตะณะผะตะฝัะฐัะธะธ)
   - ะะฐัะบะพะปัะบะพ ัะพัะพัะพ DeepLabv3 ะฒัะดะตะปะธะป ะพะฑัะตะบั?
   - ะััั ะปะธ ะพัะธะฑะบะธ ัะตะณะผะตะฝัะฐัะธะธ?

2. **Stabilization Effectiveness** (ะญััะตะบัะธะฒะฝะพััั ััะฐะฑะธะปะธะทะฐัะธะธ)
   - ะะฐะบะพะน ะผะตัะพะด ะปัััะต?
   - ะะฐะบะธะต ะบะพะผะฟัะพะผะธััั?

3. **Recommendations** (ะะตะบะพะผะตะฝะดะฐัะธะธ)
   - ะะพะณะดะฐ ะธัะฟะพะปัะทะพะฒะฐัั ะบะฐะถะดัะน ะผะตัะพะด?
   - ะะฐะบ ะฝะฐัััะฐะธะฒะฐัั ะฟะฐัะฐะผะตััั?

---

## ๐ง ะะปััะตะฒัะต ะะพะฝัะตะฟัะธะธ

### 1. ะกะตะณะผะตะฝัะฐัะธั (Segmentation)

**ะะฟัะตะดะตะปะตะฝะธะต:** ะะฐะทะดะตะปะตะฝะธะต ะธะทะพะฑัะฐะถะตะฝะธั ะฝะฐ ัะตะณะธะพะฝั, ะณะดะต ะบะฐะถะดัะน ะฟะธะบัะตะปั ะพัะฝะตัะตะฝ ะบ ะพะฟัะตะดะตะปะตะฝะฝะพะผั ะบะปะฐััั (ะพะฑัะตะบั ะธะปะธ ัะพะฝ).

**DeepLabv3:**
- ะกะตะผะฐะฝัะธัะตัะบะฐั ัะตะณะผะตะฝัะฐัะธั (ะบะปะฐััะธัะธัะธััะตั ะบะฐะถะดัะน ะฟะธะบัะตะปั)
- ะะฐะฑะพัะฐะตั ะฝะฐ ะพัะฝะพะฒะต ัะฒะตััะพัะฝัั ะฝะตะนัะพัะตัะตะน
- ะัะฟะพะปัะทัะตั Atrous Convolution (ัะฐััะธัะตะฝะฝะฐั ัะฒะตััะบะฐ)
- ะััะพะด: ะฒะตัะพััะฝะพััั ะดะปั ะบะฐะถะดะพะณะพ ะฟะธะบัะตะปั ะธ ะบะปะฐััะฐ

**ะ ะฝะฐัะตะผ ะฟัะพะตะบัะต:**
- ะัะดะตะปัะตะผ ะพะดะธะฝ ัะตะปะตะฒะพะน ะบะปะฐัั (ะฝะฐะฟัะธะผะตั, "person")
- ะะพะปััะฐะตะผ ะฒะตัะพััะฝะพััะฝัั ะผะฐัะบั (0.0-1.0)

---

### 2. ะัะพะฑะปะตะผะฐ ะะตััะฐะฝะธั (Flickering Problem)

**ะัะธัะธะฝั:**
1. ะจัะผ ะฒ ะฝะตะนัะพัะตัะธ
2. ะกะปะพะถะฝัะต ะพะฑัะตะบัั ั ัะฐััะธัะฝะพ ะฒะธะดะธะผัะผะธ ะบัะฐัะผะธ
3. ะัะฒะตัะตะฝะธะต ะธ ัะตะฝะธ
4. ะะฒะธะถะตะฝะธะต ะพะฑัะตะบัะฐ, ะบะพัะพัะพะต ะผะพะดะตะปั ะฝะต ะผะพะถะตั ัะพัะฝะพ ะฟัะตะดัะบะฐะทะฐัั

**ะกะปะตะดััะฒะธะต:**
- ะะฐัะบะฐ ัะบะฐัะตั ะผะตะถะดั ะบะฐะดัะฐะผะธ
- ะญัะพ ะฒัะทัะฒะฐะตั ะฝะตะฟัะธััะฝัะน ะฒะธะทัะฐะปัะฝัะน ัััะตะบั ะผะตััะฐะฝะธั
- IoU ะผะตะถะดั ัะพัะตะดะฝะธะผะธ ะบะฐะดัะฐะผะธ ะฝะธะทะบะธะน

---

### 3. ะัะตะผะตะฝะฝะพะต ะกะณะปะฐะถะธะฒะฐะฝะธะต (Temporal Smoothing)

**ะะดะตั:** ะัะฟะพะปัะทะพะฒะฐัั ะธะฝัะพัะผะฐัะธั ะธะท ัะพัะตะดะฝะธั ะบะฐะดัะพะฒ ะดะปั ััะฐะฑะธะปะธะทะฐัะธะธ ัะตะบััะตะณะพ ะบะฐะดัะฐ.

**ะัะธะฝัะธะฟ:**
- ะะฐะถะดัะน ะบะฐะดั ะฒะธะดะตะพ ัะฒัะทะฐะฝ ั ัะพัะตะดะฝะธะผะธ ะบะฐะดัะฐะผะธ
- ะะฑัะตะบั ะฝะต ะผะพะถะตั ะผะณะฝะพะฒะตะฝะฝะพ ะฟะพัะฒะธัััั/ะธััะตะทะฝััั
- ะะฐัะบะฐ ะดะพะปะถะฝะฐ ะฑััั ะฝะตะฟัะตััะฒะฝะพะน

**ะะตะฐะปะธะทะฐัะธั:**
- ะััะธัะปัะตะผ ะผะฐัะบั ะบะฐะบ ะบะพะผะฑะธะฝะฐัะธั ะผะฐัะบะธ ัะตะบััะตะณะพ ะบะฐะดัะฐ ะธ ัะพัะตะดะฝะธั

---

### 4. ะะตััะธะบะธ ะะฐัะตััะฒะฐ

#### IoU (Intersection over Union)

```
     ะะปะพัะฐะดั ะฟะตัะตัะตัะตะฝะธั ะดะฒัั ะผะฐัะพะบ
IoU = โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      ะะปะพัะฐะดั ะพะฑัะตะดะธะฝะตะฝะธั ะดะฒัั ะผะฐัะพะบ
```

**ะะธะฐะฟะฐะทะพะฝ:** [0, 1]
- 1.0 = ะธะดะตะฐะปัะฝะพ ััะฐะฑะธะปัะฝะฐ (ะผะฐัะบะธ ัะพะฒะฟะฐะดะฐัั)
- 0.5 = ัะผะตัะตะฝะฝะพ ััะฐะฑะธะปัะฝะฐ
- 0.0 = ะฐะฑัะพะปััะฝะพ ะฝะตััะฐะฑะธะปัะฝะฐ (ะผะฐัะบะธ ะฝะต ะฟะตัะตัะตะบะฐัััั)

#### Dice Coefficient

```
          2 * ะะตัะตัะตัะตะฝะธะต
Dice = โโโโโโโโโโโโโโโโโโ
       ะะฐะทะผะตั ะผะฐัะบะธ 1 + ะะฐะทะผะตั ะผะฐัะบะธ 2
```

**ะะพัะพะถ ะฝะฐ IoU, ะฝะพ ะธัะฟะพะปัะทัะตั ะดััะณัั ัะพัะผัะปั**
- ะะพะปะตะต ััะฒััะฒะธัะตะปะตะฝ ะบ ัะฐะทะผะตัั ะพะฑัะตะบัะฐ

---

### 5. ะะฐัะฐะผะตััั ะะตัะพะดะพะฒ

#### Moving Average - window_size
- ะะพะปััะต (5, 7, 9) = ะฑะพะปะตะต ะณะปะฐะดะบะพ, ะฝะพ ะผะตะฝะตะต ัะตะฐะบัะธะฒะฝะพ
- ะะตะฝััะต (3) = ะผะตะฝะตะต ะณะปะฐะดะบะพ, ะฝะพ ะฑะพะปะตะต ัะตะฐะบัะธะฒะฝะพ

#### Median Filter - window_size
- ะะฝะฐะปะพะณะธัะฝะพ Moving Average

#### Exponential Smoothing - alpha
- alpha=0.5: ะฑะฐะปะฐะฝั ะผะตะถะดั ัะตะบััะตะน ะธ ะฟัะตะดัะดััะตะน ะผะฐัะบะพะน
- alpha=0.1: ะพัะตะฝั ะณะปะฐะดะบะพ, ะฝะพ ะผะพะถะตั ะทะฐะฟะฐะทะดัะฒะฐัั
- alpha=0.9: ะฑะปะธะทะบะพ ะบ ะพัะธะณะธะฝะฐะปั, ะผะธะฝะธะผะฐะปัะฝะพะต ัะณะปะฐะถะธะฒะฐะฝะธะต

---

## โ ะะพะฟัะพัั ะดะปั ะญะบะทะฐะผะตะฝะฐัะพัะฐ

ะะพะดะณะพัะพะฒััะตัั ะพัะฒะตัะธัั ะฝะฐ ััะธ ะฒะพะฟัะพัั:

### ะฃัะพะฒะตะฝั 1: ะะฐะทะพะฒะพะต ะะพะฝะธะผะฐะฝะธะต

**Q1: ะงัะพ ัะฐะบะพะต ะผะตััะฐะฝะธะต ะผะฐัะบะธ ะธ ะฟะพัะตะผั ะพะฝะพ ะฟัะพะธััะพะดะธั?**
> A: ะะตััะฐะฝะธะต - ััะพ ะฝะตะถะตะปะฐัะตะปัะฝะพะต ะบะพะปะตะฑะฐะฝะธะต ะผะฐัะบะธ ะผะตะถะดั ะบะฐะดัะฐะผะธ. ะัะพะธััะพะดะธั ะฟะพัะพะผั, ััะพ ะฝะตะนัะพัะตัั DeepLabv3 ะฒัะดะฐะตั ะฝะตะผะฝะพะณะพ ัะฐะทะฝัะต ัะตะทัะปััะฐัั ะดะปั ะบะฐะถะดะพะณะพ ะบะฐะดัะฐ ะธะท-ะทะฐ ััะผะฐ ะธ ัะปะพะถะฝะพััะธ ัะตะณะผะตะฝัะฐัะธะธ.

**Q2: ะงัะพ ัะฐะบะพะต IoU ะธ ะบะฐะบ ะพะฝะฐ ะธะฝัะตัะฟัะตัะธััะตััั?**
> A: IoU (Intersection over Union) ะธะทะผะตััะตั, ะฝะฐัะบะพะปัะบะพ ะฟะพัะพะถะธ ะดะฒะต ะผะฐัะบะธ. ะะฝะฐัะตะฝะธะต 1.0 ะพะทะฝะฐัะฐะตั ะธะดะตะฐะปัะฝะพะต ัะพะฒะฟะฐะดะตะฝะธะต, 0.0 - ะฟะพะปะฝะพะต ะฝะตัะพะฒะฟะฐะดะตะฝะธะต. ะั ะธัะฟะพะปัะทัะตะผ IoU ะผะตะถะดั ัะพัะตะดะฝะธะผะธ ะบะฐะดัะฐะผะธ ะบะฐะบ ะผะตัั ััะฐะฑะธะปัะฝะพััะธ.

**Q3: ะะฐะทะพะฒะธัะต ััะธ ะผะตัะพะดะฐ ััะฐะฑะธะปะธะทะฐัะธะธ, ะบะพัะพััะต ะฒั ะธัะฟะพะปัะทะพะฒะฐะปะธ.**
> A: Moving Average, Median Filter, Exponential Smoothing.

---

### ะฃัะพะฒะตะฝั 2: ะะพะฝะธะผะฐะฝะธะต ะะตัะพะดะพะฒ

**Q4: ะะฑัััะฝะธัะต, ะบะฐะบ ัะฐะฑะพัะฐะตั Moving Average ะดะปั ััะฐะฑะธะปะธะทะฐัะธะธ ะผะฐัะบะธ.**
> A: ะะปั ะบะฐะถะดะพะณะพ ะบะฐะดัะฐ ะผั ะฑะตัะตะผ ัะตะบััะธะน ะบะฐะดั ะธ ะฝะตัะบะพะปัะบะพ ัะพัะตะดะฝะธั (ะฝะฐะฟัะธะผะตั, 2 ัะปะตะฒะฐ ะธ 2 ัะฟัะฐะฒะฐ). ะััะธัะปัะตะผ ััะตะดะฝะตะต ะทะฝะฐัะตะฝะธะต ะฒัะตั ะผะฐัะพะบ ะฒ ััะพะผ ะพะบะฝะต. ะะตะทัะปััะฐั - ัะณะปะฐะถะตะฝะฝะฐั ะผะฐัะบะฐ, ะบะพัะพัะฐั ััะธััะฒะฐะตั ะบะพะฝัะตะบัั ัะพัะตะดะฝะธั ะบะฐะดัะพะฒ.

**Q5: ะงะตะผ Median Filter ะพัะปะธัะฐะตััั ะพั Moving Average?**
> A: ะะผะตััะพ ััะตะดะฝะตะณะพ ะผั ะฑะตัะตะผ ะผะตะดะธะฐะฝั ะทะฝะฐัะตะฝะธะน ะฒ ะพะบะฝะต. ะญัะพ ะดะตะปะฐะตั ัะธะปััั ะฑะพะปะตะต ัััะพะนัะธะฒัะผ ะบ ะฒัะฑัะพัะฐะผ - ัะปััะฐะนะฝัะผ ะฐััะตัะฐะบัะฐะผ ะฒ ะผะฐัะบะต. Median ะปัััะต ัะพััะฐะฝัะตั ัะตะทะบะธะต ะบัะฐั ะพะฑัะตะบัะฐ.

**Q6: ะะฐะบ ะฟะฐัะฐะผะตัั alpha ะฒะปะธัะตั ะฝะฐ Exponential Smoothing?**
> A: alpha = 0.3 ะพะทะฝะฐัะฐะตั, ััะพ ัะตะบััะตะผั ะบะฐะดัั ะดะฐะตะผ ะฒะตั 30%, ะฐ ะธััะพัะธะธ ะดะฐะตะผ ะฒะตั 70%. ะะตะฝััะธะน alpha = ะฑะพะปะตะต ะณะปะฐะดะบะธะน ัะตะทัะปััะฐั, ะฝะพ ะผะพะถะตั ะทะฐะฟะฐะทะดัะฒะฐัั. ะะพะปััะธะน alpha = ะผะตะฝะตะต ะณะปะฐะดะบะธะน ัะตะทัะปััะฐั, ะฝะพ ะฑะพะปะตะต ัะตะฐะบัะธะฒะฝัะน.

---

### ะฃัะพะฒะตะฝั 3: ะะฝะฐะปะธะท ะะตะทัะปััะฐัะพะฒ

**Q7: ะะฐะบะพะน ะผะตัะพะด ะฟะพะบะฐะทะฐะป ะปัััะธะต ัะตะทัะปััะฐัั ะฒ ะฒะฐัะตะผ ะฐะฝะฐะปะธะทะต ะธ ะฟะพัะตะผั?**
> A: [ะะพัะผะพััะธัะต ะฒ ะฒะฐัะตะผ ะฝะพััะฑัะบะต ะฝะฐ ัะตะทัะปััะฐัั ะดะธะฐะณัะฐะผะผั]. Moving Average ะพะฑััะฝะพ ะฟะพะบะฐะทัะฒะฐะตั ัะพัะพัะธะน ะฑะฐะปะฐะฝั ะผะตะถะดั ะณะปะฐะดะบะพัััั ะธ ัะตะฐะบัะธะฒะฝะพัััั, ะฟะพััะพะผั ัะฐััะพ ะพะฝ ะปัััะธะน.

**Q8: ะะฐะบ ะฒั ะฑัะดะตัะต ะฝะฐัััะฐะธะฒะฐัั ะฟะฐัะฐะผะตััั ะผะตัะพะดะพะฒ ะดะปั ัะตะฐะปัะฝะพะณะพ ะฟัะธะผะตะฝะตะฝะธั?**
> A: ะัะถะฝะพ ัะบัะฟะตัะธะผะตะฝัะธัะพะฒะฐัั:
> - ะะปั Moving Average ะธ Median Filter: ัะฒะตะปะธัะธะฒะฐะตะผ window_size ะดะปั ะฑะพะปััะตะน ะณะปะฐะดะบะพััะธ
> - ะะปั Exponential Smoothing: ัะผะตะฝััะฐะตะผ alpha ะดะปั ะฑะพะปััะตะน ะณะปะฐะดะบะพััะธ
> - ะัะฑะธัะฐะตะผ ะฑะฐะปะฐะฝั ะผะตะถะดั ััะฐะฑะธะปัะฝะพัััั ะธ ัะตะฐะบัะธะฒะฝะพัััั ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ะฟัะธะปะพะถะตะฝะธั

---

### ะฃัะพะฒะตะฝั 4: ะะปัะฑะพะบะพะต ะะพะฝะธะผะฐะฝะธะต

**Q9: ะะพัะตะผั ะผั ะธัะฟะพะปัะทัะตะผ ะฒะตัะพััะฝะพััะฝัะต ะผะฐัะบะธ (0.0-1.0) ะฒะผะตััะพ ะฑะธะฝะฐัะฝัั ะผะฐัะพะบ (0/1)?**
> A: ะะตัะพััะฝะพััะฝัะต ะผะฐัะบะธ ะฟะพะทะฒะพะปััั:
> - ะัััะต ะฟัะตะดััะฐะฒะธัั ะผัะณะบะธะต ะบัะฐั ะพะฑัะตะบัะฐ
> - ะัะธะผะตะฝะธัั ะฐะปะณะพัะธัะผั ัะณะปะฐะถะธะฒะฐะฝะธั ะฑะพะปะตะต ัััะตะบัะธะฒะฝะพ
> - ะกะพััะฐะฝะธัั ะธะฝัะพัะผะฐัะธั ะพ ัะฒะตัะตะฝะฝะพััะธ ะผะพะดะตะปะธ

**Q10: ะะฐะบะธะต ะบะพะผะฟัะพะผะธััั ะตััั ะผะตะถะดั ะผะตัะพะดะฐะผะธ ััะฐะฑะธะปะธะทะฐัะธะธ?**
> A: 
> - ะะปะฐะดะบะพััั vs. ะะตะฐะบัะธะฒะฝะพััั: ะฑะพะปะตะต ะณะปะฐะดะบะธะต ะผะตัะพะดั ะผะพะณัั ะฝะต ัะตะฐะณะธัะพะฒะฐัั ะฑััััะพ ะฝะฐ ะดะฒะธะถะตะฝะธะต
> - ะะฑัะฐะฑะพัะบะฐ ะบัะฐะตะฒ: ะผะตัะพะดั ั ะพะบะฝะพะผ ะฝะต ัะฐะฑะพัะฐัั ัะพัะพัะพ ะฒ ะฝะฐัะฐะปะต/ะบะพะฝัะต ะฒะธะดะตะพ
> - ะััะธัะปะธัะตะปัะฝะฐั ัะปะพะถะฝะพััั: Exponential Smoothing ัะฐะผัะน ะฑัััััะน

---

### ะฃัะพะฒะตะฝั 5: ะะฐััะธัะตะฝะฝัะต ะะพะฟัะพัั

**Q11: ะะฐะบ ะฑั ะฒั ะฟัะธะผะตะฝะธะปะธ ััั ะผะตัะพะดะพะปะพะณะธั ะบ ะดััะณะธะผ ะทะฐะดะฐัะฐะผ ะบะพะผะฟัััะตัะฝะพะณะพ ะทัะตะฝะธั?**
> A: ะะตัะพะด ะฟัะธะผะตะฝะธะผ ะบ:
> - ะััะปะตะถะธะฒะฐะฝะธั ะพะฑัะตะบัะพะฒ (tracking): ััะฐะฑะธะปะธะทะธัะพะฒะฐัั bounding box
> - ะัะดะตะปะตะฝะธั ะพัะพะฑะตะฝะฝะพััะตะน: ััะฐะฑะธะปะธะทะธัะพะฒะฐัั ะบะปััะตะฒัะต ัะพัะบะธ ะผะตะถะดั ะบะฐะดัะฐะผะธ
> - ะััะณะธะผ ัะธะฟะฐะผ ะฒะธะดะตะพ-ะพะฑัะฐะฑะพัะบะธ: ะปัะฑะพะน ัะฐะท, ะบะพะณะดะฐ ะฝัะถะฝะฐ ะฒัะตะผะตะฝะฝะฐั ะณะปะฐะดะบะพััั

**Q12: ะะฐะบ ะฒั ะพัะตะฝะธะปะธ ะฑั ะบะฐัะตััะฒะพ ัะตะทัะปััะฐัะพะฒ ะบัะพะผะต IoU?**
> A: ะะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั:
> - ะะธะทัะฐะปัะฝะฐั ะฟัะพะฒะตัะบะฐ (ัะผะพััะธะผ ะฒะธะดะตะพ)
> - Dice ะบะพัััะธัะธะตะฝั (ะฟะพัะพะถ ะฝะฐ IoU)
> - ะะพะปัะทะพะฒะฐัะตะปััะบะพะต ัะตััะธัะพะฒะฐะฝะธะต (ะฝัะฐะฒะธััั ะปะธ ะปัะดัะผ ัะตะทัะปััะฐั)
> - ะััะณะธะต ะผะตััะธะบะธ ะธะท ะบะพะผะฟัััะตัะฝะพะณะพ ะทัะตะฝะธั

---

## ๐ ะะพะดะณะพัะพะฒะบะฐ ะบ ะญะบะทะฐะผะตะฝั: ะงะตะบ-ะปะธัั

ะะตัะตะด ัะบะทะฐะผะตะฝะพะผ ัะฑะตะดะธัะตัั, ััะพ ะฒั ะผะพะถะตัะต:

- [ ] ะะฑัััะฝะธัั ะพะฑัะธะน ะบะพะฝะฒะตะนะตั (video โ frames โ segmentation โ stabilization โ metrics)
- [ ] ะะฟะธัะฐัั ััะพ ัะฐะบะพะต DeepLabv3 ะธ ะบะฐะบ ะพะฝะฐ ัะฐะฑะพัะฐะตั
- [ ] ะะฑัััะฝะธัั ััะธ ะผะตัะพะดะฐ ััะฐะฑะธะปะธะทะฐัะธะธ: Moving Average, Median Filter, Exponential Smoothing
- [ ] ะะฟัะตะดะตะปะธัั IoU ะธ Instability ะผะตััะธะบะธ
- [ ] ะะฝัะตัะฟัะตัะธัะพะฒะฐัั ะณัะฐัะธะบะธ ะธะท ะฝะพััะฑัะบะฐ
- [ ] ะฃะบะฐะทะฐัั ะปัััะธะน ะผะตัะพะด ะฒ ะฒะฐัะตะผ ะฐะฝะฐะปะธะทะต ะธ ะพะฑัััะฝะธัั ะฟะพัะตะผั
- [ ] ะะฐะทะฒะฐัั ะฟัะตะธะผััะตััะฒะฐ ะธ ะฝะตะดะพััะฐัะบะธ ะบะฐะถะดะพะณะพ ะผะตัะพะดะฐ
- [ ] ะะฑัััะฝะธัั ะฟะฐัะฐะผะตััั ะผะตัะพะดะพะฒ (window_size, alpha)
- [ ] ะะพะบะฐะทะฐัั ะณะดะต ะฒ ะบะพะดะต ัะตะฐะปะธะทะพะฒะฐะฝะฐ ะบะฐะถะดะฐั ัะฐััั (src/segmentation.py, src/stabilization.py, src/metrics.py)
- [ ] ะะฑััะดะธัั ะบะพะผะฟัะพะผะธััั ะผะตะถะดั ะผะตัะพะดะฐะผะธ

---

## ๐ ะกะพะฒะตัั ะดะปั ะะฑัััะฝะตะฝะธั ะญะบะทะฐะผะตะฝะฐัะพัั

1. **ะะฐัะฝะธัะต ั ะฟัะพะฑะปะตะผั:** "ะะธะดะตะพ ะผะตััะฐะตั, ะฝัะถะฝะฐ ััะฐะฑะธะปะธะทะฐัะธั"

2. **ะะฑัััะฝะธัะต ะฐััะธัะตะบัััั:** "ะัะฟะพะปัะทัะตะผ ััะธ ะบะพะผะฟะพะฝะตะฝัะฐ: ัะตะณะผะตะฝัะฐัะธั (DeepLabv3), ััะฐะฑะธะปะธะทะฐัะธั (ััะธ ะผะตัะพะดะฐ), ะผะตััะธะบะธ (IoU)"

3. **ะัะฟะพะปัะทัะนัะต ะฒะธะทัะฐะปะธะทะฐัะธั:** "ะะพั ะพัะธะณะธะฝะฐะปัะฝัะต ะบะฐะดัั, ะฒะพั ะผะฐัะบะธ ะดะพ ััะฐะฑะธะปะธะทะฐัะธะธ (ััะผะฝัะต), ะฒะพั ะฟะพัะปะต (ะณะปะฐะดะบะธะต)"

4. **ะัะธะฒะพะดะธัะต ัะธัะปะฐ:** "IoU ัะปัััะธะปัั ั 0.82 ะดะพ 0.92, ััะพ 12% ัะปัััะตะฝะธะต"

5. **ะะฑััะดะธัะต ะบะพะผะฟัะพะผะธััั:** "Moving Average ะดะฐะตั ะปัััะธะน ะฑะฐะปะฐะฝั ะผะตะถะดั ะณะปะฐะดะบะพัััั ะธ ัะบะพัะพัััั ัะตะฐะบัะธะธ"

6. **ะะพะบะฐะถะธัะต ะบะพะด:** "ะะพั ัะตะฐะปะธะทะฐัะธั Moving Average ะฒ stabilization.py"

7. **ะะพะดะฒะตะดะธัะต ะธัะพะณ:** "ะัะฟะพะปัะทัั ััะธ ะผะตัะพะดั, ะผั ะผะพะถะฝะพ ะทะฝะฐัะธัะตะปัะฝะพ ัะปัััะธัั ะบะฐัะตััะฒะพ ะฒะธะดะตะพ ะดะปั ะฟัะธะปะพะถะตะฝะธะน, ััะตะฑัััะธั ััะฐะฑะธะปัะฝะพะน ัะตะณะผะตะฝัะฐัะธะธ"

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะะตััััั

### ะคะฐะนะปั ะัะพะตะบัะฐ ะดะปั ะะทััะตะฝะธั

1. **src/segmentation.py** - ะะปะฐัั VideoSegmenter
   - ะะฐะบ ะทะฐะณััะถะฐะตััั DeepLabv3
   - ะะฐะบ ัะฐะฑะพัะฐะตั ะฟัะตะดะพะฑัะฐะฑะพัะบะฐ ะบะฐะดัะพะฒ
   - ะะฐะบ ัะฐะฑะพัะฐะตั ะฟะพััะพะฑัะฐะฑะพัะบะฐ ะฒััะพะดะพะฒ ะผะพะดะตะปะธ

2. **src/stabilization.py** - ะะปะฐัั MaskStabilizer
   - ะะตะฐะปะธะทะฐัะธั ะฒัะตั ััะตั ะผะตัะพะดะพะฒ
   - ะะฐัะฐะผะตััั ะธ ะธั ะฒะปะธัะฝะธะต

3. **src/metrics.py** - ะคัะฝะบัะธะธ ะผะตััะธะบ
   - ะััะธัะปะตะฝะธะต IoU
   - ะััะธัะปะตะฝะธะต Dice
   - ะััะธัะปะตะฝะธะต Instability

4. **src/utils.py** - ะฃัะธะปะธัั
   - ะะฐะณััะทะบะฐ ะฒะธะดะตะพ
   - ะะธะทัะฐะปะธะทะฐัะธั ะผะฐัะบะธ ะฝะฐ ะบะฐะดัะต
   - ะะฐะฑะพัะฐ ั ะฒะธะดะตะพ-ัะพัะผะฐัะฐะผะธ

### ะะพะฝััะธั ะดะปั ะะฐะปัะฝะตะนัะตะณะพ ะะทััะตะฝะธั

- **ะกะตะผะฐะฝัะธัะตัะบะฐั ัะตะณะผะตะฝัะฐัะธั** (Semantic Segmentation)
- **ะััะพัะธัะพะฒะฐะฝะฝะฐั ัะฒะตััะบะฐ** (Atrous Convolution)
- **ะัะตะผะตะฝะฝะพะต ัะณะปะฐะถะธะฒะฐะฝะธะต** (Temporal Smoothing)
- **ะะตััะธะบะธ ะพัะตะฝะบะธ ัะตะณะผะตะฝัะฐัะธะธ** (Segmentation Metrics)
- **ะะฑัะฐะฑะพัะบะฐ ะฒะธะดะตะพ** (Video Processing)

---

## ๐ฏ ะัะพะณะพะฒะฐั ะกัะตะผะฐ ะดะปั ะะฐะฟะพะผะธะฝะฐะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    PIPELINE ะกะขะะะะะะะะฆะะ ะะะกะะ                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                  โ
โ  ะะะะ: ะะธะดะตะพัะฐะนะป                                                โ
โ    โ                                                            โ
โ    โโโบ ะะทะฒะปะตัะตะฝะธะต ะบะฐะดัะพะฒ (extract_frames)                       โ
โ    โ    โโ ะะตะทัะปััะฐั: List[np.array]                           โ
โ    โ                                                            โ
โ    โโโบ ะกะตะณะผะตะฝัะฐัะธั (VideoSegmenter)                             โ
โ    โ    โโ DeepLabv3 โ ะะตะทัะปััะฐั: prob_maps                   โ
โ    โ       (ะผะฐัะบะธ ั ะผะตััะฐะฝะธะตะผ)                                  โ
โ    โ                                                            โ
โ    โโโบ ะะซะะะ ะะะขะะะ ะกะขะะะะะะะะฆะะ:                              โ
โ    โ    โโ Moving Average (ะณะปะฐะดะบะพ + ัะตะฐะบัะธะฒะฝะพ)                 โ
โ    โ    โโ Median Filter (ัะพััะฐะฝัะตั ะบัะฐั)                      โ
โ    โ    โโ Exponential Smoothing (ะฑััััะพ, ะฟัะธัะธะฝะฝะพ)            โ
โ    โ    โโ ะะตะทัะปััะฐั: stabilized_masks                         โ
โ    โ       (ะณะปะฐะดะบะธะต ะผะฐัะบะธ)                                     โ
โ    โ                                                            โ
โ    โโโบ ะะฐััะตั ะะตััะธะบ (compare_stability, calculate_iou)        โ
โ    โ    โโ IoU Before vs After                                 โ
โ    โ    โโ Instability Before vs After                         โ
โ    โ    โโ Improvement (%)                                     โ
โ    โ                                                            โ
โ    โโโบ ะะซะะะ: ะะธะทัะฐะปะธะทะฐัะธั + ะกัะฐัะธััะธะบะฐ                        โ
โ         (ะณัะฐัะธะบะธ, ะดะธะฐะณัะฐะผะผั, ัะฐะฑะปะธัั)                          โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ะะะฎะงะะะซะ ะะะขะะะะ:
  โข IoU (Intersection over Union) - ััะฐะฑะธะปัะฝะพััั ะผะฐัะบะธ
  โข Instability - ะพะฑัะฐัะฝะฐั ะผะตัะฐ ััะฐะฑะธะปัะฝะพััะธ
  โข Improvement (%) - ะฝะฐัะบะพะปัะบะพ ะปัััะต ะฟะพัะปะต ััะฐะฑะธะปะธะทะฐัะธะธ

ะฆะะะฌ: IoU ะฒััะต = Instability ะฝะธะถะต = ะะตะทัะปััะฐั ะปัััะต โ
```

---

**ะฃัะฟะตัะพะฒ ะฝะฐ ัะบะทะฐะผะตะฝะต! ๐**
